<Window x:Class="SimpleScreenshoter.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Icon="pack://application:,,,/icon.png"
        Title="Simple Screenshoter - by Payziii"
        Height="500" Width="600"
        WindowStyle="None" Background="#161616" AllowsTransparency="True">
    <Border Background="#161616" CornerRadius="10" Padding="2">
        <DockPanel LastChildFill="True">
            <!-- Тайтлбар -->
            <Border Background="#202020" Height="40" DockPanel.Dock="Top" x:Name="TitleBar" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="Simple Screenshoter - by Payziii" Foreground="White" VerticalAlignment="Center" Margin="10,0"/>

                    <Button Content="—" Width="30" Height="30" Margin="0,0,5,0" Grid.Column="1"
                            Background="Transparent" BorderThickness="0" Foreground="White"
                            FontSize="16" FontWeight="Bold"
                            Click="MinimizeButton_Click"/>
                    <Button Content="▢" Width="30" Height="30" Margin="0,0,5,0" Grid.Column="2"
                            Background="Transparent" BorderThickness="0" Foreground="White"
                            FontSize="16" FontWeight="Bold"
                            Click="MaximizeRestoreButton_Click"/>
                    <Button Content="X" Width="30" Height="30" Grid.Column="3"
                            Background="Transparent" BorderThickness="0" Foreground="White"
                            FontSize="16" FontWeight="Bold"
                            Click="CloseButton_Click"/>
                </Grid>
            </Border>

            <!-- Список скриншотов -->
            <ScrollViewer HorizontalScrollBarVisibility="Disabled"
              VerticalScrollBarVisibility="Auto"
              Padding="10">
                <ItemsControl x:Name="ScreenshotsList">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border CornerRadius="20" Background="#202020"
                        Width="250" Height="208" Margin="10" Padding="10"
                        MouseLeftButtonUp="Screenshot_Click">
                                <Grid>
                                    <Image Source="{Binding Path}" ClipToBounds="True"
                               Margin="0,10,0,67" Stretch="UniformToFill"/>
                                    <TextBlock Text="{Binding Created}" Foreground="White"
                                   HorizontalAlignment="Center" VerticalAlignment="Top"
                                   Margin="0,153,0,0" FontSize="18"/>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
                
            </ScrollViewer>
            <TextBlock Text="Ctrl + Shift + 4"
                   Foreground="White" FontSize="40" 
                   HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock.Style>
                    <Style TargetType="TextBlock">
                        <Setter Property="Visibility" Value="Collapsed"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ElementName=ScreenshotsList, Path=HasItems}" Value="False">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </TextBlock.Style>
            </TextBlock>
        </DockPanel>
    </Border>
</Window>
